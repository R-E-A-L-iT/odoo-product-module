<?xml version="1.0" encoding="utf-8"?>

<odoo>

	<template id="proquotes_total_style" name="Proquotes Total Style PDF" inherit_id="account.document_tax_totals" priority="17">
		<xpath expr="//t[@t-name=&quot;account.document_tax_totals&quot;]/tr/td" position="attributes">
			<attribute name="style">background-color: #db0d0d; border-right-color: #db0d0d !important</attribute>
		</xpath>
		<xpath expr="//t[@t-name=&quot;account.document_tax_totals&quot;]/tr/td[2]" position="attributes">
			<attribute name="style">background-color: #db0d0d; border-left-color: #db0d0d !important</attribute>
		</xpath>
	</template>

	<template id="proquote_tax_display" name="Proquotes Tax Display" inherit_id="account.tax_groups_totals">

		<xpath expr="//td[1]" position="replace">
			<td>
				<!--  -->
				<span t-esc="amount_by_group['tax_group_name']" />
				<span t-if="'GST' in amount_by_group['tax_group_name']">777376542RT0001</span>
				<span t-if="'QST' in amount_by_group['tax_group_name']">1228256885TQ0001</span>
			</td>
		</xpath>
	</template>

	<template id="invoice_pdf_content" name="Sales Order PDF Content" inherit_id="account.report_invoice_document" priority="17">

		<xpath expr="//h2" position="replace">
			<xpath expr="//group[@id=&quot;header_left_group&quot;]/field[@name=&quot;partner_id&quot;]" position="after">
				<style>
					table {
						page-break-inside: avoid !important;
					}
				</style>
			</xpath>
		</xpath>
		<xpath expr="//t[@t-set=&quot;address&quot;]" position="replace">

			<div style="display: block; position: relative; bottom: 50px; margin-bottom: -25px;">
				<h2 style="color: #db0d0d;">
					<span style="color: #db0d0d;" t-if="o.move_type == 'out_invoice' and o.state == 'posted'">Invoice</span>
					<span style="color: #db0d0d;" t-if="o.move_type == 'out_invoice' and o.state == 'draft'">Draft Invoice</span>
					<span style="color: #db0d0d;" t-if="o.move_type == 'out_invoice' and o.state == 'cancel'">Cancelled Invoice</span>
					<span style="color: #db0d0d;" t-if="o.move_type == 'out_refund'">Credit Note</span>
					<span style="color: #db0d0d;" t-if="o.move_type == 'in_refund'">Vendor Credit Note</span>
					<span style="color: #db0d0d;" t-if="o.move_type == 'in_invoice'">Vendor Bill</span>
					<span style="color: #db0d0d;" t-if="o.name != '/'" t-field="o.name" />
				</h2>
				<h3 t-field="o.partner_id.name" />
				<br />

				<style>
					#addressTable {
						border-color: #fff !important;
						border-width: 0px !important;
						border-style: none !important;
					}
				</style>
				<table id="addressTable" style="border-style: collapse !important;" border="0">
					<td style="display: block; float: left; border-style: hidden !important; margin-right: 30px;">
						<h5 style="color: #db0d0d" if="o.partner_id.id != o.partner_shipping_id.id">Bill To</h5>
						<span t-field="o.partner_id.street" />
						<br />
						<span t-out="o.partner_id.city" />
						,
						<span t-esc="o.partner_id.state_id.code" />
						<span t-field="o.partner_id.zip" />
						<span t-field="o.partner_id.country_id.name" />
						<br />
						<span t-field="o.partner_id.phone" />
						<br />
					</td>
					<td t-if="o.partner_id.id != o.partner_shipping_id.id" style="display: block; float: right; border-style: hidden !important;">
						<h5 style="color: #db0d0d;">Ship To</h5>
						<span t-field="o.partner_shipping_id.street" />
						<br />
						<span t-out="o.partner_shipping_id.city" />
						,
						<span t-esc="o.partner_shipping_id.state_id.code" />
						<span t-field="o.partner_shipping_id.zip" />
						<span t-field="o.partner_shipping_id.country_id.name" />
						<br />
						<span t-field="o.partner_shipping_id.phone" />
					</td>
				</table>
			</div>
		</xpath>

		<xpath expr="//img" position="after">
			<img src="https://www.r-e-a-l.it/web/image/website/1/logo/R-E-A-L.iT%20-%20CAPTURE" width="auto" height="auto" style="margin-bottom: 0px;" />
			<style>
				h2 span {
					color: #db0d0d !important;
				}
        
				td {
					border-style: solid;
				}
			</style>
		</xpath>

		<!--Remove Taxes-->
		<xpath expr="//table" position="attributes">
			<attribute name="style">page-break-inside: auto !important;</attribute>
		</xpath>
		<xpath expr="//th[@name=&quot;th_taxes&quot;]" position="replace" />
		<xpath expr="//t[@t-if=&quot;not line.display_type&quot;]/td[5]" position="replace" />

		<!--Remove Subtotal-->
		<!-- <xpath expr="//t[@t-if=&quot;current_section and (line_last or lines[line_index+1].display_type == 'line_section')&quot;]" position="replace"/> -->
		<!--Change Total to Subtotal-->
		<!-- <xpath expr="//div[@id=&quot;total&quot;]" position="replace"> -->
		<!-- <strong>Subtotal</strong> -->
		<!-- </xpath> -->
		<!--Apply HTML-->
		<xpath expr="//span[@t-field=&quot;line.name&quot;]" position="replace">
			<span t-raw="line.product_id.name"></span>

			<style>
				.description-root *{
					margin-top: 0px !important;
					margin-bottom: 0px !important;
				}
			</style>
			<br />
			<span class="description-root" t-raw="line.product_id.description_sale" style="color: #777; margin-top: 0px !important; margin-bottom: 0px !important; font-size: .75rem;" />
		</xpath>
		<xpath expr="//div[@id=&quot;qrcode&quot;]" position="after">
			<t t-if="o.company_id.id == 15">
				<br />
				<div id="bank-info">
					<p>
						<span>Bank Info For Wire Transfers to R-E-A-L.iT Solutions</span>
						<br />
						<span>BMO Vaudreuil Branch: 580 Av. Saint-Charles, Vaudreuil-Dorion, QC J7V 8H2</span>
						<br />
						<span>Transit: 33201, Institution: 001, Account No.: 1986 858</span>
					</p>
				</div>
				<div></div>
			</t>
			<t t-if="o.company_id.id == 3">
				<br />
				<div id="bank-info" style="width: 100%; !important; text-align: center !imporant;">
					<p>
						<span>Bank Info For Wire Transfers to R-E-A-L.iT U.S. Inc.</span>
						<br />
						<span>BMO Harris Bank N.A.: P.O. Box 755, Chicago, IL 60690</span>
						<br />
						<span>Routing No.: 071025661, Account No.: 3875473</span>
					</p>
				</div>
			</t>
			<t t-set="footer" t-value="o.footer" />
		</xpath>
	</template>
</odoo>