<?xml version="1.0" encoding="utf-8"?>

<odoo>
	<template id="proquotes_total_pdf" name="Proquotes Total PDF" inherit_id="account.document_tax_totals" priority="17" primary="True">
		<xpath expr="//t[@t-name=&quot;account.document_tax_totals&quot;]/tr/td/strong" position="replace">
			<strongs>Subtotal</strongs>
		</xpath>
	</template>

	<template id="boxed_layout" name="Boxed Layout" inherit_id="web.external_layout_boxed" priority="17">
		<xpath expr="//div[@t-field=&quot;company.report_footer&quot;]" position="attributes">
			<attribute name="class">footer-root</attribute>
		</xpath>
		<xpath expr="//div[@t-field=&quot;company.report_footer&quot;]" position="before">
			<span t-esc="footer"></span>
			<img t-if="footer != undefined" id="insert-footer" height="auto" width="auto" t-attf-src="https://cdn.r-e-a-l.it/images/footer/{{footer}}.png"/>
			<style>
				.footer-root * {
					margin-top: 0px;
					margin-bottom: 0px;
				}
			</style>
		</xpath>
	</template>

	<template id="sale_order_pdf_content" name="Sales Order PDF Content" inherit_id="sale.report_saleorder_document" priority="17">

		<!-- <xpath expr="//table" position="before">

		</xpath> -->

		<xpath expr="//table/thead" position="replace"/>

		<xpath expr="//t[@t-if=&quot;current_section and (line_last or doc.order_line[line_index+1].display_type == 'line_section')&quot;]//td" position="attributes">
			<attribute name="t-if">line.name != '$hardware' and line.name != '$software'</attribute>
		</xpath>

		<xpath expr="//table/tbody//tr[1]" position="before">
			<style>
				.quote-head * {
					color: #fff;
					background-color: #000;
				}
			</style>
			<tr class="quote-head" t-if="line.display_type == 'line_section' and line.name != '$hardware' and line.name != '$software' and line.name != '$subscription'">
				<td class="text-left">Product</td>
				<td class="text-right" t-if="doc.is_rental == True">Product Value</td>
				<td class="text-right">Quantity</td>
				<td class="text-right">Unit Price</td>
				<td class="text-right">Amount</td>
			</tr>
			<t t-if="doc.sale_order_template_id.name == 'Renewal'">
				<t t-if="line.name == '$hardware'">
					<tr>
						<td colspan="100">
							<span id="lang-id" class="english-mode no-display">english-mode</span>
							<t t-call="proquotes.renewal-hardware-english"/>
							<t t-call="proquotes.renewal-hardware-french"/>
						</td>
					</tr>
				</t>
				<t t-if="line.name == '$software'">
					<tr>
						<td colspan="100">
							<t t-call="proquotes.renewal-software"/>
						</td>
					</tr>
				</t>
				<t t-if="line.name == '$subscription'">
					<td colspan="100">
						<t t-call="proquotes.renewal-subscription"/>
					</td>
				</t>
			</t>
		</xpath>

		<xpath expr="//t[@groups=&quot;account.group_show_line_subtotals_tax_excluded&quot;]" position="attributes">
			<attribute name="t-if">line.selected == 'true' and not current_section_ended</attribute>
		</xpath>

		<!-- Remove Special Sections for Renewal Quotes -->
		<xpath expr="//table/tbody/t[2]/tr[2]" position="attributes">
			<attribute name="t-if">line.name != '$hardware' and line.name != '$software' and line.name != '$subscription'</attribute>
		</xpath>

		<xpath expr="//div[@id=&quot;informations&quot;]" position="after">
			<style>
				.no-display {
					display: none;
				}

				.english-mode+div+div {
					display: none;
				}

				.french-mode+div {
					display: none;
				}

				#renewal-text h4 {
				border-bottom-style: solid;
				border-bottom-color: #f55;
				}

				#renewal-text {
					margin: auto;
				}

				#renewal-text * {
					color: #000;
					margin: auto;
					line-height: 2.5rem;
				}

				#renewal-text p {
					margin-bottom: 7.5vw;
					line-height: 1.5em;
				}

					#renewal-text img {
					width: 80%;
					height: auto;
					margin-left: 10%;
					margin-right: 10%;
					margin-bottom: 1em;
				}
			</style>
			<!-- <t t-if="doc.sale_order_template_id.name == 'Renewal'"> -->
			<!-- <span id="lang-id" class="english-mode no-display">english-mode</span> -->
			<!-- <t t-call="proquotes.renewal-english"/> -->
			<!-- <t t-call="proquotes.renewal-french"/> -->
			<!-- </t> -->
		</xpath>

		<xpath expr="//t[@t-set=&quot;address&quot;]/div[1]" position="attributes">
			<attribute name="id">partner_address</attribute>
		</xpath>

		<!--Move Cliet Info-->
		<xpath expr="//div[@t-field=&quot;doc.partner_shipping_id&quot;]" position="attributes">
			<attribute name="style">margin: auto;</attribute>			<!-- position: absolute; z-index: 2; margin-top: -250px; border: 1px solid #333;; -->
		</xpath>
		<!--Remove Taxes-->
		<!-- <xpath expr="//th[@name=&quot;th_taxes&quot;]" position="replace"/> -->
		<xpath expr="//td[@name=&quot;td_taxes&quot;]" position="replace"/>

		<xpath expr="//t[@t-if=&quot;current_section and (line_last or doc.order_line[line_index+1].display_type == 'line_section')&quot;]//strong" position="attributes">
			<attribute name="style">margin-bottom: 20vh;</attribute>
		</xpath>

		<!-- Apply HTML-->
		<xpath expr="//span[@t-field=&quot;line.name&quot;]" position="replace">
			<!-- <t t-set="name" t-value="line.applied_name"/> -->
			<span t-raw="line.product_id.name"></span>

			<!-- <t t-set="description" t-value="line.name"/> -->
			<style>
				.description-root *{
					margin-top: 0px !important;
					margin-bottom: 0px !important;
				}
			</style>
			<span class="description-root" t-raw="line.product_id.description_sale" style="color: #777; margin-top: 0px !important; margin-bottom: 0px !important; font-size: .75rem;"/>
		</xpath>

		<!--Hide Unselected-->
		<xpath expr="//t[@t-if=&quot;not line.display_type&quot;]" position="attributes">
			<attribute name="t-if">(not line.display_type) and line.selected=='true' and line.sectionSelected=='true'</attribute>
		</xpath>

		<!--Remove Tax Calculation-->

		<!--Add Signature-->
		<xpath expr="//div[@name=&quot;so_total_summary&quot;]" position="after">
			<t t-if="doc.sale_order_template_id.name == 'Rental'">
				<t t-call="proquotes.rental_terms"/>
			</t>
			<div>
				<h1>Customer Acceptance</h1>
				<p>With your signature you accept our offer on behalf of your company as above and you confirm, that you are authorized to do so.</p>
			</div>
			<div>
				<span style="height: 40px"> PO #: ____________________________________</span>
				<br />
				<span style="height: 40px"> Signature: _______________________________</span>
				<br />
				<span style="height: 40px"> Date: ____________________________________</span>
				<br />
				<br />
				<br />
				<t t-set="footer" t-value="doc.footer"></t>

				<footer>
					<p style="width: 100%; text-align: center;">
						<span>
							GST/HST: 777 376 542 RT 0001 PST: 1228256885 TQ 0001
						</span>
						<br/>
						<span>
							<strong>
								Send wire transfers to:
							</strong>
							Transit: 33201 Institution: 001 Account: 1986 858
						</span>
					</p>
				</footer>
			</div>
		</xpath>

		<xpath expr="//t[@t-call=&quot;account.document_tax_totals&quot;]" position="replace">
			<t t-call="proquotes.proquotes_total_pdf"/>
		</xpath>

		<!-- <xpath expr="" position="inside">
			<img id="insert-footer" width="100%" height="auto" t-attf-src="https://cdn.r-e-a-l.it/images/footer/{{footer}}.png"/>
		</xpath> -->

	</template>
	<!--     <template id="sale_order_portal_content2" name="Sales Order Portal Content" inherit_id="sale.order" priority="17">
        
    </template> -->

	<!--Apply HTML-->
	<template id="invoice_pdf_content" name="Sales Order PDF Content" inherit_id="account.report_invoice_document" priority="17">

		<xpath expr="//img" position="after">
			<img src="https://www.r-e-a-l.it/web/image/website/1/logo/R-E-A-L.iT%20-%20CAPTURE" width="auto" height="auto"/>
		</xpath>
		<!--Remove Taxes-->
		<xpath expr="//th[@name=&quot;th_taxes&quot;]" position="replace"/>
		<xpath expr="//t[@t-if=&quot;not line.display_type&quot;]/td[5]" position="replace"/>

		<!--Remove Subtotal-->
		<xpath expr="//t[@t-if=&quot;current_section and (line_last or lines[line_index+1].display_type == 'line_section')&quot;]" position="replace"/>
		<!--Change Total to Subtotal-->
		<xpath expr="//div[@id=&quot;total&quot;]" position="replace">
			<!-- <strong>Subtotal</strong> -->
		</xpath>
		<!--Apply HTML-->
		<xpath expr="//span[@t-field=&quot;line.name&quot;]" position="replace">
			<t t-set="name" t-value="line.applied_name"/>
			<span t-raw="name"></span>

			<t t-set="description" t-value="line.name"/>
			<span class="description-root" t-raw="description"/>
		</xpath>
	</template>

</odoo>