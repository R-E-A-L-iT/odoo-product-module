<?xml version="1.0" encoding="utf-8"?>

<odoo>
	<template id="proquotes_total_pdf" name="Proquotes Total PDF" inherit_id="account.document_tax_totals" priority="17" primary="True">
		<xpath expr="//t[@t-name=&quot;account.document_tax_totals&quot;]/tr/td[2]" position="attributes">
			<attribute name="style">background-color: #db0d0d; border-left-color: #db0d0d !important</attribute>
		</xpath>
		<xpath expr="//t[@t-name=&quot;account.document_tax_totals&quot;]/tr/td" position="replace">
			<td style="background-color: #db0d0d; border-right-color: #db0d0d !important">
				<strong>Subtotal</strong>
			</td>
		</xpath>

	</template>

	<template id="sale_order_pdf_content" name="Sales Order PDF Content" inherit_id="sale.report_saleorder_document" priority="17">
		<!-- <xpath expr="//table" position="before">
			
		</xpath> -->

		<xpath expr="//table/thead" position="replace">
			<t t-set="clang" t-value="doc.partner_id.lang" />
		</xpath>

		<xpath expr="//t[@t-if=&quot;current_section and (line_last or doc.order_line[line_index+1].display_type == 'line_section')&quot;]//tr" position="attributes">
			<attribute name="t-if">line.name[0] != '$' and ((not line_index+1 &lt; len(doc.order_line)) or (doc.order_line[line_index+1].name[:6] != '$block'))</attribute>
		</xpath>
		<xpath expr="//t[@t-if=&quot;current_section and (line_last or doc.order_line[line_index+1].display_type == 'line_section')&quot;]//td" position="attributes">
			<attribute name="t-if">line.name[0] != '$'</attribute>
			<!-- <attribute name="style">display: none;</attribute> -->
		</xpath>

		<!--ToDo Hide No Select Sections-->
		<!-- <xpath expr="//td[@name=&quot;td_section_line&quot;]" position="replace">
			<td name="td_section_line" colspan="100">
				<span t-esc="line.name"/>
				<span t-attf-class="line.name.replace(' ', '').replace('(', '').replace(')', '')">Test</span>
				<span>Test</span>
				<span class="AdditionalCycloneSubscriptions">Hard Class Name</span>
			</td>
		</xpath> -->

		<!-- <xpath expr="//t[@t-if=&quot;current_section and (line_last or doc.order_line[line_index+1].display_type == 'line_section')&quot;]" position="after">
			<t t-if="(current_section and (line_last or doc.order_line[line_index+1].display_type == 'line_section')) and current_subtotal == 0">
				<tr>
					<td colspan="100">
						<span t-esc="'.' + current_section.name.replace(' ', '').replace('(', '').replace(')', '')"></span>
						<style>
							<t t-esc="'.' + current_section.name"/>
 						{
							display: none;
						}
						</style>
					</td>
				</tr>
			</t>
		</xpath> -->

		<xpath expr="//t[@t-if=&quot;line.display_type == 'line.section'&quot;]/td/span" position="replace">
			<!-- <span t-if="line.name[0] != '#'" t-field="line.name" /> -->
			<!-- <span t-elif="line.name[0] == '#'"> -->
			<!-- <t t-set="cname" t-value="line.name[1:]" /> -->
			<!-- <t t-call="proquotes.section_name_resolution" /> -->
			<!-- </span> -->
		</xpath>

		<xpath expr="//table/tbody//tr[1]" position="before">
			<style>
				.quote-head * {
				color: #fff;
				background-color: #db0d0d;
				}
			</style>
			<tr class="quote-head" t-if="line.display_type == 'line_section'">
				<t t-if="line.name == '$block' or line.name == '$block+'">
					<t t-if="clang == 'en_CA' or clang == 'en_US'">
						<td class="text-left" style="border-top-style: none !important">Product</td>
						<!-- <td t-if="line.name == '$block+'" class="text-right" style="border-top-style: none !important">
							Product Value
						</td> -->
						<!-- <td t-elif="" /> -->
						<td class="text-right" style="border-top-style: none !important">Quantity</td>
						<td class="text-right" style="border-top-style: none !important">Unit Price</td>
						<td class="text-right" style="border-top-style: none !important">Amount</td>
					</t>
					<t t-if="clang == 'fr_CA'">
						<td class="text-left" style="border-top-style: none !important">Produit</td>
						<!-- <td t-if="line.name == '$block+'" class="text-right" style="border-top-style: none !important">
							Valeur du Produit
						</td> -->
						<!-- <td t-elif="" /> -->
						<td class="text-right" style="border-top-style: none !important">Quantité</td>
						<td class="text-right" style="border-top-style: none !important">Prix ​​Unitaire</td>
						<td class="text-right" style="border-top-style: none !important">Montant</td>
					</t>
				</t>
			</tr>
			<t t-if="doc.sale_order_template_id.name == 'Renewal'">
				<t t-if="line.name == '$hardware'">
					<tr>
						<td colspan="100" style="border-style: none !important;">
							<span id="lang-id" class="english-mode no-display">english-mode</span>
							<t t-call="proquotes.renewal-hardware-english" />
							<t t-call="proquotes.renewal-hardware-french" />
						</td>
					</tr>
				</t>
				<t t-if="line.name == '$software'">
					<tr>
						<td colspan="100" style="border-style: none !important;">
							<t t-call="proquotes.renewal-software" />
						</td>
					</tr>
				</t>
				<t t-if="line.name == '$subscription'">
					<td colspan="100" style="border-style: none !important;">
						<t t-call="proquotes.renewal-subscription" />
					</td>
				</t>
			</t>
		</xpath>

		<!-- <xpath expr="//td[@name=&quot;td_section_line&quot;]" position="attributes">
			<attribute name="class">
				<t t-esc="line.name.replace(' ', '-').replace('(', '').replace(')', '')"/>
			</attribute>
		</xpath>
		<xpath expr="//td[@name=&quot;td_section_line&quot;]" position="after">
			<style t-esc="'.' + line.name.replace(' ', '-').replace('(', '').replace(')', '') + '{background-color: #0f0; }'"/>
			<td>
				<span t-esc="'.' + line.name.replace(' ', '-').replace('(', '').replace(')', '') + '{background-color: #0f0; }'"/>
			</td>
		</xpath> -->

		<xpath expr="//t[@groups=&quot;account.group_show_line_subtotals_tax_excluded&quot;]" position="attributes">
			<attribute name="t-if">line.selected == 'true' and not current_section_ended</attribute>
		</xpath>

		<!-- Remove Special Sections for Renewal Quotes -->
		<xpath expr="//table/tbody/t[2]/tr[2]" position="attributes">
			<attribute name="t-if">line.name[0] != '$'</attribute>
		</xpath>

		<xpath expr="//div[@id=&quot;informations&quot;]" position="after">
			<style>
				table {
				border-style: none !important;
				}

				td {
				border-style: solid !important;
				border-color: black !important;
				}

				.no-display {
				display: none;
				}

				.english-mode+div+div {
				display: none;
				}

				.french-mode+div {
				display: none;
				}

				#renewal-text h4 {
				border-bottom-style: solid;
				border-bottom-color: #f55;
				}

				#renewal-text {
				margin: auto;
				}

				#renewal-text * {
				color: #000;
				margin: auto;
				line-height: 2.5rem;
				}

				#renewal-text p {
				margin-bottom: 7.5vw;
				line-height: 1.5em;
				}

				#renewal-text img {
				width: 80%;
				height: auto;
				margin-left: 10%;
				margin-right: 10%;
				margin-bottom: 1em;
				}

				img {
				width: 100% !important;
				margin-left: 0px !important;
				marign-right: 0px !important;
				}
			</style>
			<!-- <t t-if="doc.sale_order_template_id.name == 'Renewal'"> -->
			<!-- <span id="lang-id" class="english-mode no-display">english-mode</span> -->
			<!-- <t t-call="proquotes.renewal-english"/> -->
			<!-- <t t-call="proquotes.renewal-french"/> -->
			<!-- </t> -->
		</xpath>

		<xpath expr="//t[@t-set=&quot;address&quot;]/div[1]" position="attributes">
			<attribute name="id">partner_address</attribute>
		</xpath>

		<!--Move Cliet Info-->
		<!-- <xpath expr="//div[@t-field=&quot;doc.partner_shipping_id&quot;]" position="attributes">
			<attribute name="style">margin: auto;</attribute>
					position: absolute; z-index: 2; margin-top: -250px; border: 1px solid #333;;
			</xpath> -->
		<!--Remove Taxes-->
		<!-- <xpath expr="//th[@name=&quot;th_taxes&quot;]" position="replace"/> -->
		<xpath expr="//td[@name=&quot;td_taxes&quot;]" position="replace" />

		<xpath expr="//t[@t-if=&quot;current_section and (line_last or doc.order_line[line_index+1].display_type == 'line_section')&quot;]//strong" position="attributes">
			<attribute name="style">margin-bottom: 20vh;</attribute>
		</xpath>

		<!-- Apply HTML-->
		<xpath expr="//span[@t-field=&quot;line.name&quot;]" position="replace">
			<!-- <t t-set="name" t-value="line.applied_name"/> -->
			<span t-raw="line.product_id.name"></span>
			<br />

			<!-- <t t-set="description" t-value="line.name"/> -->
			<style>
				description-root, .description-root *{
				font-size: .75rem;
				margin-top: 0px !important;
				margin-bottom: 0px !important;
				}
			</style>
			<t t-if="str(line.name) != str(line.product_id.description_sale)">
				<span class="description-root">
					<span t-raw="line.name" />
				</span>
			</t>
			<span class="description-root" t-raw="line.product_id.description_sale" style="color: #777;" />
		</xpath>

		<!--Hide Unselected-->
		<xpath expr="//t[@t-if=&quot;not line.display_type&quot;]" position="attributes">
			<attribute name="t-if">(not line.display_type) and line.selected == 'true' and line.sectionSelected == 'true'</attribute>
		</xpath>

		<xpath expr="//span[@t-field=&quot;line.product_uom_qty&quot;]" position="replace">
			<span t-if="line.product_uom_qty == round(line.product_uom_qty)" t-esc="round(line.product_uom_qty)" />
			<span t-else="" t-field="line.product_uom_qty" />
		</xpath>

		<!--Remove Tax Calculation-->

		<!--Add Signature-->
		<xpath expr="//div[@name=&quot;so_total_summary&quot;]" position="after">
			<t t-if="doc.sale_order_template_id.name == 'Rental'">
				<t t-set="company_name" t-value="doc.company_id.name" />
				<t t-call="proquotes.rental_terms" />
			</t>
			<div>
				<h1>Customer Acceptance</h1>
				<p>With your signature you accept our offer on behalf of your company as above and you confirm, that you are authorized to do so.</p>
			</div>
			<div>
				<span style="height: 40px"> PO #:</span>
				<span style="border-bottom: solid !important; width:500px !important;">
					<span style="color: #fff;">________________________________________</span>
				</span>
				<br />
				<br />
				<span style="height: 40px"> Signature:</span>
				<span style="border-bottom: solid !important; width:500px !important;">
					<span style="color: #fff;">____________________________________</span>
				</span>
				<br />
				<br />
				<span style="height: 40px"> Date:</span>
				<span style="border-bottom: solid !important; width:500px !important;">
					<span style="color: #fff;">________________________________________</span>
				</span>
				<br />
				<br />
				<br />
				<t t-set="footer" t-value="doc.footer"></t>

				<footer>
					<t t-if="doc.company_id.id == 15">
						<div id="bank-info" style="width: 100%; text-align: center;">
							<p>
								<span>Bank Info For Wire Transfers to R-E-A-L.iT Solutions</span>
								<br />
								<span>BMO Vaudreuil Branch: 580 Av. Saint-Charles, Vaudreuil-Dorion, QC J7V 8H2</span>
								<br />
								<span>Transit: 33201, Institution: 001, Account No.: 1986 858</span>
							</p>
						</div>
					</t>

					<t t-if="doc.company_id.id == 3">
						<br />
						<div id="bank-info" style="width: 100%; !important; text-align: center !imporant;">
							<p>
								<span>Bank Info For Wire Transfers to R-E-A-L.iT U.S. Inc.</span>
								<br />
								<span>BMO Harris Bank N.A.: P.O. Box 755, Chicago, IL 60690</span>
								<br />
								<span>Routing No.: 071025661, Account No.: 3875473</span>
							</p>
						</div>
					</t>
				</footer>
			</div>
		</xpath>

		<xpath expr="//t[@t-call=&quot;account.document_tax_totals&quot;]" position="replace">
			<t t-call="proquotes.proquotes_total_pdf" />
		</xpath>

		<xpath expr="//h2" position="replace" />

		<xpath expr="//t[@t-set=&quot;address&quot;]" position="replace">

			<div style="position: relative; bottom: 50px; margin-bottom: -25px;">
				<h2 style="color: #db0d0d;">
					<t t-if="not (env.context.get('proforma', False) or is_pro_forma)">
						<span style="color: #db0d0d;" t-if="doc.state not in ['draft','sent']">Order # </span>
						<span style="color: #db0d0d;" t-if="doc.state in ['draft','sent']">Quotation # </span>
					</t>
					<t t-if="env.context.get('proforma', False) or is_pro_forma">
						<span style="color: #db0d0d;">Pro-Forma Invoice # </span>
					</t>
					<span style="color: #db0d0d;" t-field="doc.name" />
				</h2>
				<span t-if="doc.partner_id.parent_id != False" t-field="doc.partner_id.parent_id.name" />
				<br t-if="doc.partner_id.parent_id != False" />
				<span t-field="doc.partner_id.name" />
				<br />
				<span t-field="doc.partner_id.street" />
				<br />
				<span t-if="doc.partner_id.city != False" t-esc="doc.partner_id.city + ','" />
				<span t-esc="doc.partner_id.state_id.code" />
				<span t-field="doc.partner_shipping_id.zip" />
				<span t-field="doc.partner_id.country_id.name" />
				<br />
				<span t-field="doc.partner_id.phone" />
				<br />
			</div>
		</xpath>

		<!-- <xpath expr="//h2" position="attributes">
			<attribute name="style">position: relative; bottom: 100px;</attribute>
		</xpath> -->

		<xpath expr="//h2/t/span[1]" position="attributes">
			<attribute name="style">color: #db0d0d !important;</attribute>
		</xpath>

		<xpath expr="//h2/t/span[2]" position="attributes">
			<attribute name="style">color: #db0d0d !important;</attribute>
		</xpath>

		<xpath expr="//h2/span" position="attributes">
			<attribute name="style">color: #db0d0d !important;</attribute>
		</xpath>

		<xpath expr="//div[@t-if=&quot;doc.user_id.name&quot;]" position="replace" />

		<xpath expr="//t[@t-foreach=&quot;doc.order_line&quot;]" position="before">
			<t t-set="no_select" t-value="True" />
		</xpath>

		<xpath expr="//div[@name=&quot;so_total_summary&quot;]" position="inside">
			<style>
				<!-- #total table.table td>span {
					color: #db0d0d !important;
				} -->
			</style>
		</xpath>

	</template>

	<template name="Tax Colour" id="tax_colour" inherit_id="account.document_tax_totals">
		<xpath expr="//strong[@t-esc=&quot;subtotal['name']&quot;]" position="attributes">
			<attribute name="style">color: #db0d0d !important;</attribute>
		</xpath>
	</template>
	<!--     <template id="sale_order_portal_content2" name="Sales Order Portal Content" inherit_id="sale.order" priority="17">
        
    </template> -->

	<!--Apply HTML-->


</odoo>