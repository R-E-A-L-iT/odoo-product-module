<?xml version="1.0" encoding="utf-8"?>
<odoo>

	<template id="sale_order_total" inherit_id="portal.portal_sidebar" priority="17">

		<xpath expr="//div" position="attributes">
			<attribute name="id">portalTotal</attribute>
		</xpath>

	</template>

	<template id="sale_order_portal_content" name="Sales Order Portal Content" inherit_id="sale.sale_order_portal_content" priority="17">
		<!-- Address -->
		<xpath expr="//section[@id=&quot;details&quot;]/h3" position="replace">
			<div class="quote-address">
				<img t-if="sale_order.header[-4:] == '.jpg'" alt="Header Img" t-attf-src="https://cdn.r-e-a-l.it/images/header/{{sale_order.header}}" />
				<video t-if="sale_order.header[-4:] == '.mp4'" autoplay="true" loop="" alt="Header Img" t-attf-src="https://cdn.r-e-a-l.it/images/header/{{sale_order.header}}" />
				<div class="quote-address-block">
					<h1 class="title">QUOTATION</h1>
					<div class="hr"></div>
					<h2 class="subtitle" t-if="sale_order.partner_id.parent_id != False" t-field="sale_order.partner_id.parent_id.name" />
					<h2 class="subtitle" t-field="sale_order.partner_id.name" />
					<h2 class="subtitle" t-field="sale_order.partner_id.street" />
					<h2 class="subtitle">
						<span t-if="sale_order.partner_id.city != False" t-raw="sale_order.partner_id.city + ','"></span>
						<span t-field="sale_order.partner_id.state_id.code" />
						<span t-field="sale_order.partner_id.zip" />
						<span t-field="sale_order.partner_id.country_id.name" />
					</h2>
				</div>
			</div>
			<!-- <div class="quoteHeader">
				<div class="QCback">
					<img id="QH_Background"></img>
				</div>
				<div class="QHinfo">
					<h1 id="QH_Template">QUOTATION</h1>
					<h1 id="QH_Template" t-field="sale_order.sale_order_template_id"/>
					<address id="QH_Address" t-field="sale_order.partner_invoice_id" t-options="{&quot;widget&quot;: &quot;contact&quot;, &quot;fields&quot;: [&quot;address&quot;, &quot;name&quot;], &quot;no_marker&quot;: True}"/>
					<p id="QH_quotation" style="font-size: 30%; letter-spacing: 2px;" t-field="sale_order.id"></p> t-field="sale_order.partner_id.name"
					<p id="QH_companyUUID">58357</p>
					<img id="QH_companyLogo"></img>
					<div id="company_logo" style="text-align:center;">
						<img t-att-src="'data:image/png;base64,sale_order.partner_id.logo'" height="150px" width="150px"/>
					</div>
				</div>
			</div> -->
		</xpath>
		<!-- <xpath expr="//t[@t-if=&quot;current_section and (line_last or sale_order.order_line[line_index+1].display_type == 'line_section')&quot;]//td" position="after"> -->
		<xpath expr="//t[@t-if=&quot;current_section and (line_last or sale_order.order_line[line_index+1].display_type == 'line_section')&quot;]//td" position="attributes">
			<attribute name="t-if">line.name != '$hardware' and line.name != '$software' and line.name != '$subscription'</attribute>
		</xpath>

		<xpath expr="//table[@id=&quot;sales_order_table&quot;]/thead/tr" position="replace" />

		<xpath expr="//table[@id=&quot;sales_order_table&quot;]/tbody/t[2]/tr" position="before">
			<t t-if="sale_order.sale_order_template_id.name == 'Renewal'">
				<t t-if="line.name == '$hardware'">
					<tr>
						<td style="border-style: none;" colspan="100">
							<span id="lang-id" class="english-mode no-display">english-mode</span>
							<t t-call="proquotes.renewal-hardware-english" />
							<t t-call="proquotes.renewal-hardware-french" />
						</td>
					</tr>
				</t>
				<t t-if="line.name == '$software'">
					<tr>
						<td style="border-style: none;" colspan="100">
							<t t-call="proquotes.renewal-software" />
						</td>
					</tr>
				</t>
				<t t-if="line.name == '$subscription'">
					<tr>
						<td style="border-style: none;" colspan="100">
							<t t-call="proquotes.renewal-subscription" />
						</td>
					</tr>
				</t>
			</t>
			<t t-if="line.name == '$block'">
				<tr class="quote-head">
					<td class="text-left">
						<span class="cHead">
							Product
						</span>
					</td>
					<td></td>
					<td class="text-right">
						<span class="cHead">
							Quantity
						</span>
					</td>
					<td />
					<td class="text-right">
						<span class="cHead">
							Unit Price
						</span>
					</td>
					<td />
					<td class="text-right">
						<span class="cHead">
							Amount
						</span>
					</td>
				</tr>
			</t>
			<t t-if="line.name == '$block+'">
				<tr class="quote-head">
					<td class="text-left">
						<span class="cHead">
							Product
						</span>
					</td>
					<td class="text-right">
						<span class="cHead">
							Product Value
						</span>
					</td>
					<td class="text-right">
						<span class="cHead">
							Quantity
						</span>
					</td>
					<td class="text-right">
						<span class="cHead">
							Unit Price
						</span>
					</td>
					<td />
					<td class="text-right">
						<span class="cHead">
							Amount
						</span>
					</td>
				</tr>
			</t>
		</xpath>

		<xpath expr="//table[@id=&quot;sales_order_table&quot;]/tbody/t[2]/tr[1]" position="attributes">
			<attribute name="t-if">line.name[0] != '$'</attribute>
		</xpath>

		<xpath expr="//section[@id=&quot;details&quot;]" position="before">
			<!-- <t t-if="sale_order.sale_order_template_id.name == 'Renewal'"> -->
			<!-- <span id="lang-id" class="english-mode no-display">english-mode</span> -->
			<!-- <t t-call="proquotes.renewal-hardware-english"/> -->
			<!-- <t t-call="proquotes.renewal-hardware-french"/> -->
			<!-- </t> -->
		</xpath>

		<xpath expr="//thead" position="attributes">
			<attribute name="class">bg-100 quotesTableHead</attribute>
		</xpath>

		<xpath expr="//t[@t-foreach=&quot;sale_order.order_line&quot;]/tr" position="attributes">
			<attribute name="t-att-class">'quoteLineRowSection bg-200 font-weight-bold o_line_section' if line.display_type == 'line_section' else 'quoteLineRowNote font-italic o_line_note' if line.display_type == 'line_note' else 'quoteLineRow'</attribute>
		</xpath>

		<!--Add Check Box to control fold Section-->
		<xpath expr="//t[@t-if=&quot;line.display_type == 'line_section'&quot;]/td/span" position="replace">
			<div style="width: 75%; float: left;">
				<label t-attf-for="fold{{line}}{{line_index}}" style="display: inline-block; width: 100%; height: 100%;">


					<!-- DOWN ARROW THING -->
					<span t-if="line.hiddenSection == 'no'" class="quote-folding-arrow">&#215;</span>
					<span t-else="" class="quote-folding-arrow">+</span>


					<t t-if="line.special == 'optional'">
						<input t-if="line.selected == 'true'" class="optionalSectionCheckbox" type="checkbox" checked="true" />
						<input t-else="" class="optionalSectionCheckbox" type="checkbox" />
					</t>
					<span t-field="line.name" />
					<span class="line_id" t-attf-id="{{line}}" />
				</label>

				<!--Apply Custom Class to Special Section Types if needed-->
				<t t-if="line.hiddenSection == 'no'">
					<input t-if="line.special == 'multiple'" t-attf-id="fold{{line}}{{line_index}}" class="foldInput multipleChoice" type="checkbox" style="display: none;" />
					<input t-elif="line.special == 'optional'" t-attf-id="fold{{line}}{{line_index}}" class="foldInput optionalSection" type="checkbox" style="display: none;" />
					<input t-else="" t-attf-id="fold{{line}}{{line_index}}" class="foldInput" type="checkbox" style="display: none;" />
				</t>
				<t t-else="">
					<input t-if="line.special == 'multiple'" t-attf-id="fold{{line}}{{line_index}}" class="foldInput multipleChoice" type="checkbox" style="display: none;" checked="true" />
					<input t-elif="line.special == 'optional'" t-attf-id="fold{{line}}{{line_index}}" class="foldInput optionalSection" type="checkbox" style="display: none;" checked="true" />
					<input t-else="" t-attf-id="fold{{line}}{{line_index}}" class="foldInput" type="checkbox" style="display: none;" checked="true" />
				</t>
			</div>

			<div style="width: 25%; float: right">

				<label class="subtotal-label" t-attf-for="fold{{line}}{{line_index}}" style="display: inline-block; width: 100%; height: 100%; text-align: right;">
					<span>
						<strong class="text-right subtotal-label" style="font-weight: bolder">Subtotal
						</strong>
					</span>
					<span class="subtotal-destination text-right" style="font-weight: 400 !important;"></span>
				</label>
			</div>
		</xpath>

		<xpath expr="//t[@t-if=&quot;line.display_type == 'line_note'&quot;]/td" position="inside">
			<span class="line_id" t-attf-id="{{line}}" />
		</xpath>

		<!--No Subtotal if Next Element is Block-->
		<xpath expr="//t[@t-if=&quot;current_section and (line_last or sale_order.order_line[line_index+1].display_type == 'line_section')&quot;]/tr" position="attributes">
			<attribute name="t-if">((not line_index &gt; 0) or sale_order.order_line[line_index-1].display_type != 'line_section') and ((not line_index+1 &lt; len(sale_order.order_line)) or (sale_order.order_line[line_index+1].name[:6] != '$block'))</attribute>
			<attribute name="t-attf-style">before: {{line.name}};</attribute>
		</xpath>
		<!-- Hide Default Subtotal-->
		<xpath expr="//t[@t-if=&quot;current_section and (line_last or sale_order.order_line[line_index+1].display_type == 'line_section')&quot;]/tr//strong" position="attributes">
			<!-- <attribute name="style">display: none;</attribute> -->
		</xpath>
		<xpath expr="//t[@t-if=&quot;current_section and (line_last or sale_order.order_line[line_index+1].display_type == 'line_section')&quot;]/tr//span" position="attributes">
			<!-- <attribute name="style">display: none;</attribute> -->
		</xpath>

		<!--Mark Original Subtotal locations-->
		<xpath expr="//t[@t-if=&quot;current_section and (line_last or sale_order.order_line[line_index+1].display_type == 'line_section')&quot;]/tr/td/span" position="attributes">
			<attribute name="class">subtotal-source</attribute>
		</xpath>


		<!-- Rental Item Value -->
		<xpath expr="//td[@id=&quot;product_name&quot;]" position="after">
			<t t-if="sale_order.is_rental == True">
				<td t-if="sale_order.partner_id.country_id.name == 'Canada'" class="text-right">
					<span t-if="line.product_id.is_software == False" t-esc="'{value:,.2f}$'.format(value=line.product_id.cadVal)" class="text-right itemValue test" />
				</td>
				<td t-else="" class="text-right">
					<span t-if="line.product_id.is_software == False" t-esc="'{value:,.2f}$'.format(value=line.product_id.usdVal)" class="text-right itemValue test" />
				</td>
			</t>
			<td t-else="" />
		</xpath>

		<!--Apply HTML tags to description and Names And Add User Control Elements-->
		<xpath expr="//td[@id=&quot;product_name&quot;]" position="replace">
			<td id="product_name">
				<t t-if="line.optional == 'yes'">
					<input t-if="line.selected == 'true'" type="checkbox" class="priceChange" checked="true" />
					<input t-else="" type="checkbox" class="priceChange" />
				</t>
				<t t-else="">
					<input t-if="line.selected == 'true'" type="radio" checked="true" style="display: none;" class="priceChange" />
					<input t-else="" type="radio" style="display: none;" class="priceChange" />
				</t>

				<!--Line Id For User Selection-->
				<div class="flex">
					<span class="line_id" t-attf-id="{{line}}"></span>

					<!-- <t t-set="name" t-value="line.product_id.name"></t> -->
					<!-- <t t-set="name" t-value="line.applied_name"></t> -->
					<span t-attf-class="optional{{line.optional}}" t-raw="line.product_id.name"></span>
					<!-- <t t-set="description" t-value="line.name"/> -->

					<label t-attf-for="productFold{{line}}{{line_index}}" style="float: right;">
						<!-- <span class="detailLabel">Details</span> -->
					</label>
					<input t-if="line.hiddenSection == 'no'" t-attf-id="productFold{{line}}{{line_index}}" class="product_foldI" type="checkbox" style="display: none;" />
					<input t-else="" checked="true" t-attf-id="productFold{{line}}{{line_index}}" class="product_foldI" type="checkbox" style="display: none;" />
					<!-- <span class="approveHandle" style="display: none !important;" t-esc='"{\"model\":\"" + line.product_id.name + "\",\"price\":" + "{price:.2f}".format(price=line.price_unit) + ",\"subtotal\":" + "{price:.2f}".format(price=line.price_unit * line.product_uom_qty) + ",\"quantity\":" + str(round(line.product_uom_qty)) + ",\"type\":\"new_product\"}"' /> -->
					<div class="product_fold" style="width: 100%;">
						<!-- todo double check this removed line-->
						<!-- <t t-if="str(line.name) != str(line.product_id.description_sale)">
							<span t-raw="line.name" />
						</t> -->
						<span style="color: #777;" t-raw="line.product_id.description_sale" />
						<!-- <span style="color: #777;" t-raw="description"></span> -->
						<!-- <img t-if="not line.product_id.image_1920 == False" t-attf-src="data:image/*;base64,{{line.product_id.image_1920}}" style="width: 25%; float: right; margin: 10px;"/> -->
					</div>
				</div>
			</td>
		</xpath>


		<!--End Multiple Choice Section Upon Optional Product-->
		<xpath expr="//t[@groups=&quot;account.group_show_line_subtotals_tax_excluded&quot;]" position="before">
			<t t-if="not current_section_ended">
				<t t-if="current_section and line.optional == 'yes' and current_section.special == 'multiple'" t-set="current_section_ended" t-value="true" />
			</t>
		</xpath>

		<xpath expr="//t[@t-if=&quot;line.display_type == 'line_section'&quot;]" position="inside">
			<t t-set="current_section_ended" t-value="false" />
		</xpath>

		<!--Ensure Subtotal is only calculated if Item is selected-->
		<xpath expr="//t[@groups=&quot;account.group_show_line_subtotals_tax_excluded&quot;]" position="attributes">
			<attribute name="t-if">line.selected == 'true' and not current_section_ended</attribute>
		</xpath>

		<xpath expr="//t[@groups=&quot;account.group_show_line_subtotals_tax_included&quot;]" position="attributes">
			<attribute name="t-if">line.selected == 'true' and current_section_ended</attribute>
		</xpath>


		<xpath expr="//span[@t-field=&quot;line.price_subtotal&quot;]" position="attributes">
			<attribute name="class">proquotesLineTotal oe_order_line_price_subtotal pr-0</attribute>
		</xpath>
		<xpath expr="//span[@t-field=&quot;line.price_subtotal&quot;]" position="after">
			<t t-if="sale_order.is_rental == True and line.product_id.is_software == False">*</t>
		</xpath>

		<xpath expr="//span[@t-field=&quot;line.price_total&quot;]" position="attributes">
			<attribute name="class">proquotesLineTotal oe_order_line_price_total pr-0</attribute>
		</xpath>

		<!--Enable Variable Quantities-->
		<xpath expr="//span[@t-field=&quot;line.product_uom_qty&quot;]" position="replace">
			<t t-if="line.quantityLocked == 'yes'">
				<span class="qtySpan" t-if="line.product_uom_qty == round(line.product_uom_qty)" t-esc="round(line.product_uom_qty)" />
				<span t-else="" class="rp-20" t-field="line.product_uom_qty" />
			</t>
			<t t-if="line.quantityLocked =='no'">
				<input type="number" class="quantityChange" min="1" t-attf-value="{{line.product_uom_qty}}" style="display: inline; width: 60px;"></input>
			</t>
		</xpath>

		<xpath expr="//span[@t-field=&quot;line.product_uom_qty&quot;]" position="replace"></xpath>

		<!--Hide Unwanted Columns-->
		<!-- <xpath expr="//table[@id=&quot;sales_order_table&quot;]//th[3]" position="attributes">
			<attribute name="t-attf-class">text-right {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }} table-column-none</attribute>
		</xpath> -->

		<!-- <xpath expr="//table[@id=&quot;sales_order_table&quot;]//th[4]" position="attributes">
			<attribute name="t-attf-class">text-right {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }} table-column-none</attribute>
		</xpath> -->

		<xpath expr="//t[@t-if=&quot;not line.display_type&quot;]/td[5]" position="attributes">
			<attribute name="t-attf-class">tax-column text-right {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }} table-column-none</attribute>
		</xpath>

		<xpath expr="//t[@t-foreach=&quot;sale_order.order_line&quot;]//td[3]" position="attributes">
			<attribute name="t-attf-class">text-right {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }} table-column-none</attribute>
		</xpath>

		<xpath expr="//t[@t-foreach=&quot;sale_order.order_line&quot;]//td[4]" position="attributes">
			<attribute name="t-attf-class">tax-column text-right {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }} table-column-none</attribute>
		</xpath>

		<xpath expr="//t[@t-foreach=&quot;sale_order.order_line&quot;]//td[5]" position="attributes">
			<attribute name="t-attf-class">text-right {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }} table-column-none</attribute>
		</xpath>


		<!-- HERE IS User Entered Information -->


		<xpath expr="//section[@id=&quot;terms&quot;]" position="before">
			<section id="user-info">
				<form autocomplete="on">
					<!-- <div id="POinputLabel">
						<span>Please insert your PO number here:</span>
						<br />
					</div>
					<input class="poNumber" id="poNumber" t-attf-value="{{sale_order.customer_po_number}}" />
					<br />
					<div>
						<span>Please Upload your PO File in the comments below:</span>
						<br />
					</div> -->
					<br />
					<t t-if="sale_order.is_rental == True">
						<t t-set="company_name" t-value="sale_order.company_id.name" />
						<t t-set="clang" t-value="lang" />
						<t t-call="proquotes.rental_terms" />
						<div>
							<span>
								Should equipment be shipped to a different address?
							</span>
							<br />
							<span class="english-mode"></span>
							<input t-if="sale_order.rental_diff_add == True" id="new-address" type="checkbox" checked="true" />
							<input t-else="" id="new-address" type="checkbox" />
							<br />
							<div id="rental-address" class="rental-address">
								<label for="street">
									<span>Street</span>
								</label>
								<input id="street" type="text" t-attf-value="{{sale_order.rental_street}}" />
								<br />
								<label for="city">
									<span>City</span>
								</label>
								<input id="city" type="text" t-attf-value="{{sale_order.rental_city}}" />
								<br />
								<label for="state">
									<span>State/Province</span>
								</label>
								<select id="state">
									<option t-if="sale_order.rental_state.id == False" id="state-select" value="Select">Select</option>
									<option t-else="" style="display: none;" id="state-select" value="Select">Select</option>
									<option t-if="sale_order.rental_state.id == 533" selected="selected" t-attf-class="{{sale_order.rental_country.name}} can-op">Alberta</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} can-op">Alberta</option>
									<option t-if="sale_order.rental_state.id == 534" selected="selected" t-attf-class="{{sale_order.rental_country.name}} can-op">British Columbia</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} can-op">British Columbia</option>
									<option t-if="sale_order.rental_state.id == 535" selected="selected" t-attf-class="{{sale_order.rental_country.name}} can-op">Manitoba</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} can-op">Manitoba</option>
									<option t-if="sale_order.rental_state.id == 536" selected="selected" t-attf-class="{{sale_order.rental_country.name}} can-op">New Brunswick</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} can-op">New Brunswick</option>
									<option t-if="sale_order.rental_state.id == 538" selected="selected" t-attf-class="{{sale_order.rental_country.name}} can-op">Northwest Territories</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} can-op">Northwest Territories</option>
									<option t-if="sale_order.rental_state.id == 537" selected="selected" t-attf-class="{{sale_order.rental_country.name}} can-op">Newfoundland and Labrador</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} can-op">Newfoundland and Labrador</option>
									<option t-if="sale_order.rental_state.id == 539" selected="selected" t-attf-class="{{sale_order.rental_country.name}} can-op">Nova Scotia</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} can-op">Nova Scotia</option>
									<option t-if="sale_order.rental_state.id == 540" selected="selected" t-attf-class="{{sale_order.rental_country.name}} can-op">Nunavut</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} can-op">Nunavut</option>
									<option t-if="sale_order.rental_state.id == 541" selected="selected" t-attf-class="{{sale_order.rental_country.name}} can-op">Ontario</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} can-op">Ontario</option>
									<option t-if="sale_order.rental_state.id == 542" selected="selected" t-attf-class="{{sale_order.rental_country.name}} can-op">Prince Edward Island</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} can-op">Prince Edward Island</option>
									<option t-if="sale_order.rental_state.id == 543" selected="selected" t-attf-class="{{sale_order.rental_country.name}} can-op">Quebec</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} can-op">Quebec</option>
									<option t-if="sale_order.rental_state.id == 544" selected="selected" t-attf-class="{{sale_order.rental_country.name}} can-op">Saskatchewan</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} can-op">Saskatchewan</option>
									<option t-if="sale_order.rental_state.id == 545" selected="selected" t-attf-class="{{sale_order.rental_country.name}} can-op">Yukon</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} can-op">Yukon</option>

									<option t-if="sale_order.rental_state.id == 9" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Alabama</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Alabama</option>
									<option t-if="sale_order.rental_state.id == 10" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Alaska</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Alaska</option>
									<option t-if="sale_order.rental_state.id == 11" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Arizona</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Arizona</option>
									<option t-if="sale_order.rental_state.id == 12" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Arkansas</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Arkansas</option>
									<option t-if="sale_order.rental_state.id == 13" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">California</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">California</option>
									<option t-if="sale_order.rental_state.id == 14" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Colorado</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Colorado</option>
									<option t-if="sale_order.rental_state.id == 15" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Connecticut</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Connecticut</option>
									<option t-if="sale_order.rental_state.id == 16" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Delaware</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Delaware</option>
									<option t-if="sale_order.rental_state.id == 17" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">District of Columbia</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">District of Columbia</option>
									<option t-if="sale_order.rental_state.id == 18" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Florida</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Florida</option>
									<option t-if="sale_order.rental_state.id == 19" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Georgia</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Georgia</option>
									<option t-if="sale_order.rental_state.id == 20" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Hawaii</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Hawaii</option>
									<option t-if="sale_order.rental_state.id == 21" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Idaho</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Idaho</option>
									<option t-if="sale_order.rental_state.id == 22" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Illinois</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Illinois</option>
									<option t-if="sale_order.rental_state.id == 23" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Indiana</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Indiana</option>
									<option t-if="sale_order.rental_state.id == 24" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Iowa</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Iowa</option>
									<option t-if="sale_order.rental_state.id == 25" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Kansas</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Kansas</option>
									<option t-if="sale_order.rental_state.id == 26" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Kentucky</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Kentucky</option>
									<option t-if="sale_order.rental_state.id == 27" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Louisiana</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Louisiana</option>
									<option t-if="sale_order.rental_state.id == 28" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Maine</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Maine</option>
									<option t-if="sale_order.rental_state.id == 29" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Montana</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Montana</option>
									<option t-if="sale_order.rental_state.id == 30" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Nebraska</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Nebraska</option>
									<option t-if="sale_order.rental_state.id == 31" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Nevada</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Nevada</option>
									<option t-if="sale_order.rental_state.id == 32" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">New Hampshire</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">New Hampshire</option>
									<option t-if="sale_order.rental_state.id == 33" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">New Jersey</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">New Jersey</option>
									<option t-if="sale_order.rental_state.id == 34" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">New Mexico</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">New Mexico</option>
									<option t-if="sale_order.rental_state.id == 35" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">New York</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">New York</option>
									<option t-if="sale_order.rental_state.id == 36" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">North Carolina</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">North Carolina</option>
									<option t-if="sale_order.rental_state.id == 37" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">North Dakota</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">North Dakota</option>
									<option t-if="sale_order.rental_state.id == 38" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Ohio</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Ohio</option>
									<option t-if="sale_order.rental_state.id == 39" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Oklahoma</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Oklahoma</option>
									<option t-if="sale_order.rental_state.id == 40" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Oregon</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Oregon</option>
									<option t-if="sale_order.rental_state.id == 41" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Maryland</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Maryland</option>
									<option t-if="sale_order.rental_state.id == 42" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Massachusetts</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Massachusetts</option>
									<option t-if="sale_order.rental_state.id == 43" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Michigan</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Michigan</option>
									<option t-if="sale_order.rental_state.id == 44" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Minnesota</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Minnesota</option>
									<option t-if="sale_order.rental_state.id == 45" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Mississippi</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Mississippi</option>
									<option t-if="sale_order.rental_state.id == 46" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Missouri</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Missouri</option>
									<option t-if="sale_order.rental_state.id == 47" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Pennsylvania</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Pennsylvania</option>
									<option t-if="sale_order.rental_state.id == 48" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Rhode Island</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Rhode Island</option>
									<option t-if="sale_order.rental_state.id == 49" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">South Carolina</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">South Carolina</option>
									<option t-if="sale_order.rental_state.id == 50" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">South Dakota</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">South Dakota</option>
									<option t-if="sale_order.rental_state.id == 51" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Tennessee</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Tennessee</option>
									<option t-if="sale_order.rental_state.id == 52" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Texas</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Texas</option>
									<option t-if="sale_order.rental_state.id == 53" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Utah</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Utah</option>
									<option t-if="sale_order.rental_state.id == 54" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Vermont</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Vermont</option>
									<option t-if="sale_order.rental_state.id == 55" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Virginia</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Virginia</option>
									<option t-if="sale_order.rental_state.id == 56" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Washington</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Washington</option>
									<option t-if="sale_order.rental_state.id == 57" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">West Virginia</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">West Virginia</option>
									<option t-if="sale_order.rental_state.id == 58" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Wisconsin</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Wisconsin</option>
									<option t-if="sale_order.rental_state.id == 59" selected="selected" t-attf-class="{{sale_order.rental_country.name}} us-op">Wyoming</option>
									<option t-else="" t-attf-class="{{sale_order.rental_country.name}} us-op">Wyoming</option>
								</select>
								<br />
								<label for="country">
									<span>Country</span>
								</label>
								<select id="country">
									<option t-if="sale_order.rental_country.id == False" value="Select">Select</option>
									<option t-if="sale_order.rental_country.id == 38" selected="selected" value="Canada">Canada</option>
									<option t-else="" value="Canada">Canada</option>
									<option t-if="sale_order.rental_country.id == 233" selected="selected" value="United States">United States</option>
									<option t-else="" value="United States">United States</option>
								</select>
								<br />
								<label for="zip">
									<span>Zip/Postal Code</span>
								</label>
								<input id="zip" type="text" t-attf-value="{{sale_order.rental_zip}}" />
							</div>
						</div>
						<br />
						<div>
							<label for="rental-start">
								<span>Start of the rental</span>
							</label>
							<input id="rental-start" type="date" t-attf-value="{{sale_order.rental_start}}" />
							<br />
							<label for="rental-end">
								<span>Estimated end of the rental</span>
							</label>
							<input id="rental-end" type="date" t-attf-value="{{sale_order.rental_end}}" />
						</div>
						<br />
						<div>
							<span> Total Rental Value: <span id="total-rental-value"></span>
							</span>
							<br />
							<span>
								Please upload your proof of insurance for the total amount in the comments below:
							</span>
							<br />
						</div>
					</t>
				</form>
			</section>
			<section class="quoteConfig">
				<span id="QCheader" t-attf-class="{{sale_order.header}}">Header</span>
				<span id="QCfooter" t-attf-class="{{sale_order.footer}}">Footer</span>
			</section>
		</xpath>
	</template>

	<!--Sign Page-->
	<template id="sale_order_portal_template" name="Sales Order Portal template" inherit_id="sale.sale_order_portal_template" priority="17">

		<xpath expr="//div[@t-if=&quot;sale_order.has_to_be_signed(True) or sale_order.has_to_be_paid(True)&quot;]" position="before">
			<h1 class="white-text">Customer Acceptance</h1>

			<p class="white-text">With your signature you accept our offer on behalf of your company as above and you confirm, that you are authorized to do so.</p>
		</xpath>

		<xpath expr="//div[@id=&quot;quote_content&quot;]//b[1]" position="replace">
			<span>
				<strong t-field="sale_order.partner_id.name" />
			</span>
		</xpath>

		<xpath expr="//t[@t-call=&quot;portal.signature_form&quot;]/t[2]" position="replace">
			<t t-set="default_name" t-value="env.user.name" />
		</xpath>

		<xpath expr="//a[@t-att-href=&quot;sale_order.get_portal_url(report_type='pdf', download=True)&quot;]" position="replace"></xpath>

		<xpath expr="//div[@t-elif=&quot;sale_order.has_to_be_paid(True)&quot;]" position="after">
			<div class="col-sm-auto mt8">
				<a role="button" class="btn btn-secondary btn-block o_download_btn" id="quotesDownloadButton" t-att-href="sale_order.get_portal_url(report_type='pdf', download=True)" title="Download">
					<i class="fa fa-download"></i> Download </a>
			</div>
			<!-- <div style="padding-left: 0px;" class="col-sm-auto mt8">
				<a role="button" class="btn btn-secondary btn-block o_download_btn" id="approve-button">
					Pay Through Approve				
				</a>
			</div> -->
			<br />
			<img id="footer-img" alt="Footer Img" t-attf-src="https://cdn.r-e-a-l.it/images/footer/{{sale_order.footer}}.png" />
		</xpath>

	</template>

	<template id="User_Buttons" name="Client Side Buttons" priority="17"></template>

</odoo>